<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CODE BAR</title>
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="./assets/css/main.css" />
    <script src="assets/scripts/scrollbar.js" defer></script>
    <script src="https://colorjs.io/dist/color.global.js"></script>
    
  </head>
  <body>
    <header class="menu">
      <info-oklch class="info-oklch"></info-oklch>
      <h1 class="codebar-title">CODE BAR</h1>
      <div class="buttons">
        <toggle-button></toggle-button>
        <button class="button--install" style="display: none">Install PWA</button>
      </div>
    </header>
    <main class="content">
      <scrollbar-wrapper class="scrollbar-wrapper inactive"></scrollbar-wrapper>
      <p class="text">
        Regardez la barre de progression à droite, elle indique visuellement
        votre position pendant le défilement de ce texte. C'est une animation
        déclenchée au scroll ou CSS scroll-driven animations, elle peuvent être
        exploités pour créer des animations spécifiques en réponse au défilement
        de ce texte.<br /><br />

        En utilisant la propriété scroll-timeline, les développeurs peuvent
        définir des marqueurs de pourcentage du défilement total d'un conteneur.
        Par exemple, une animation peut être déclenchée lorsque l'utilisateur
        atteint 20% de texte, une autre à 25%, et ainsi de suite. <br /><br />

        Prenons un exemple concret : à mesure que vous faites défiler ce texte
        et que la barre de progression grandit elle change de couleur, elle peut
        aussi changer de forme. En continuant à faire défiler et lorsque la
        barre atteint 50%, une transition peut modifier les propriétés d'un
        autre élément.<br /><br />

        Ces animations réagissent dynamiquement au défilement de la page,
        offrant une expérience utilisateur interactive et captivante. En résumé,
        les CSS scroll-driven animations, associées au scroll-timeline,
        permettent de concevoir des sites web où le défilement de la page
        déclenche des animations spécifiques en fonction de la position de
        l'utilisateur, offrant ainsi une expérience utilisateur plus immersive
        et engageante tout cela de manière native !
      </p>
    </main>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/service-worker.js")
          .then(registration => {
            console.log("Service Worker registered with scope:", registration.scope);
          })
          .catch(error => {
            console.error("Service Worker registration failed:", error);
          });
      }

      window.addEventListener("beforeinstallprompt", event => {
        document.getElementById("installButton").style.display = "block";
        document.getElementById("installButton").addEventListener("click", () => {
          event.prompt();
          document.getElementById("installButton").style.display = "none";
        });
      });
    </script>
  </body>
</html>
